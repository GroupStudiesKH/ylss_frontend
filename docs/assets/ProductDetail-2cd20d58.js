import{_ as N,a as T,r as h,l as B,o as D,b as C,c as r,d as c,e as b,f as e,t as i,i as f,F as I,g as H,h as w,n as E}from"./index-7f382ea8.js";import{H as L,F as S,a as F,c as M}from"./Footer-5f4cc514.js";import{P as j}from"./ProductMenu-3cd32661.js";const x={components:{Header:L,Footer:S,ProductMenu:j},setup(){const{locale:s}=T(),d=h({}),_=h({}),t=B(),y=h(t.params.id),v=h(!1),g=h([]),k=async()=>{try{d.value=await F.getProducts()}catch(o){console.error("Error fetching products content:",o)}},P=async()=>{try{_.value=await F.getProduct(y.value),_.value.category_id&&a(_.value.category_id)}catch(o){console.error("Error fetching product content:",o)}},a=async o=>{try{const n=await F.getCategoryPath(o);g.value=n}catch(n){console.log(n)}},m=(o,n)=>{let V=n=="feature_image"?"/assets/img/product_image.png?t=202403031739":"";return o.product_detail.find(l=>l.language==s.value&&l.meta_key==n).meta_value!=null&&o.product_detail.find(l=>l.language==s.value&&l.meta_key==n).meta_value!=""?o.product_detail.find(l=>l.language==s.value&&l.meta_key==n).meta_value:V},u=()=>{M.addCart({product:_.value,category:g.value}),v.value=!0},p=()=>{M.removeCart(y),v.value=!1};return D(async()=>{k(),P()}),{locale:s,products:d,product:_,addCartItem:u,removeCartItem:p,checkCart:v,getInfo:m,getCategoryPath:a,categoryPath:g}}},z={id:"product_detail"},A=e("div",{class:"banner",style:{"background-image":"url('/assets/img/product_banner.webp')"}},null,-1),O={class:"container"},R={class:"row"},W={class:"col-12 col-lg-10 list",id:"product_detail_content"},q={key:0,class:"row mb-5"},G={class:"col-12 route"},J=e("span",{class:"material-icons"},"",-1),Q=["href"],U=["href"],X={key:0},Y={class:"col-12 col-md-6"},Z=["src"],K={class:"col-12 col-md-6 justify-content-between",style:{display:"grid"}},$={class:"title"},ee=e("hr",{style:{"border-top":"5px solid #666"}},null,-1),te=["innerHTML"],oe=e("span",{class:"material-icons"},"",-1),ae=e("span",{class:"material-icons"},"",-1),se=e("h4",null,"相關規格/",-1),re=e("hr",null,null,-1),ce=["href"],ne=e("div",{id:"mid_right_shape"},null,-1),le=e("div",{id:"bottom_left_shape"},null,-1);function de(s,d,_,t,y,v){const g=C("Header"),k=C("ProductMenu"),P=C("Footer");return r(),c(I,null,[b(g),e("main",z,[A,e("div",O,[e("div",R,[b(k,{categories:t.products},null,8,["categories"]),e("div",W,[Object.keys(t.product).length>0?(r(),c("div",q,[e("div",G,[J,e("a",{href:`/${t.locale}/`},i(s.$t("header.index")),9,Q),f(" / "),e("a",{href:`/${t.locale}/product`},i(s.$t("header.product")),9,U),t.product.category_id?(r(),c("span",X,[(r(!0),c(I,null,H(t.categoryPath,(a,m)=>(r(),c("span",{key:m},[f(" / "),e("a",null,i(a.get_title_attribute.find(u=>u.language==t.locale).meta_value),1)]))),128))])):w("",!0)]),e("div",Y,[e("img",{src:t.getInfo(t.product,"feature_image"),class:"img-fluid w-100"},null,8,Z)]),e("div",K,[e("div",null,[e("h3",$,i(t.getInfo(t.product,"title")),1),ee,e("p",{class:"subtitle",innerHTML:t.getInfo(t.product,"content")},null,8,te)]),t.checkCart?(r(),c("div",{key:1,class:"askPrice remove",role:"button",onClick:d[1]||(d[1]=a=>t.removeCartItem())},[f(i(s.$t("product.removeAskPrice"))+" ",1),ae])):(r(),c("div",{key:0,class:"askPrice",role:"button",onClick:d[0]||(d[0]=a=>t.addCartItem())},[f(i(s.$t("product.addAskPrice"))+" ",1),oe]))])])):w("",!0),se,re,t.product&&t.product.spec_articles?(r(!0),c(I,{key:1},H(t.product.spec_articles,(a,m)=>{var u,p;return r(),c("div",{key:a.id,class:E(m%2===0?"spec_tag_1":"spec_tag_2")},[e("a",{href:`/${t.locale}/spec/${a.id}`},i(((u=a.article_detail.find(o=>o.language===t.locale))==null?void 0:u.meta_value)||((p=a.article_detail.find(o=>o.language==="zh_TW"))==null?void 0:p.meta_value)),9,ce)],2)}),128)):w("",!0)])])]),ne,le]),b(P)],64)}const ge=N(x,[["render",de]]);export{ge as default};
