import{_ as H,u as M,r as y,l as V,a as N,o as x,b as v,c as n,d as l,e as u,f as t,w as C,k as i,F as b,g as B,h as w,t as d}from"./index-343d968d.js";import{H as D,F as L,c as P}from"./Footer-572a1139.js";import{P as S,_ as T}from"./product_banner-6cd22fd8.js";import{a as F}from"./api-service-468dd282.js";const A={components:{Header:D,Footer:L,ProductMenu:S},setup(){M();const s=y([]),c=V().params.id,_=y(!1),e=y([]),{locale:m}=N(),I=async()=>{try{const o=await F.getProduct(c);s.value=o,s.value.category_id&&h(s.value.category_id)}catch(o){console.log(o)}},h=async o=>{try{const a=await F.getCategoryPath(o);e.value=a}catch(a){console.log(a)}},p=(o,a)=>{let k=a=="feature_image"?"/assets/img/product_image.png?t=202403031739":"";return o.product_detail.find(r=>r.language==m.value&&r.meta_key==a).meta_value!=null&&o.product_detail.find(r=>r.language==m.value&&r.meta_key==a).meta_value!=""?o.product_detail.find(r=>r.language==m.value&&r.meta_key==a).meta_value:k},g=()=>{P.addCart({product:s.value,category:e.value}),_.value=!0},f=()=>{P.removeCart(c),_.value=!1};return x(async()=>{await I(),_.value=P.checkItemExist(c)}),{product:s,getInfo:p,categoryPath:e,locale:m,addCartItem:g,removeCartItem:f,checkCart:_}}},E={id:"product"},R=t("div",{class:"banner"},[t("img",{src:T,alt:""})],-1),j={class:"container mb-5"},O={class:"row"},q={class:"col-12 col-lg-10 list"},z={class:"row"},G={class:"col-12 route"},J=t("span",{class:"material-icons"},"",-1),Q={key:0},U={key:0,class:"row"},W={class:"col-12 col-sm-4"},X=["src"],Y={class:"col-12 col-sm-8"},Z={class:"title"},K={class:"subtitle"},$={class:"col-12 col-sm-8"},ee=t("span",{class:"material-icons"},"",-1),te=t("span",{class:"material-icons"},"",-1),oe=["innerHTML"];function se(s,c,_,e,m,I){const h=v("Header"),p=v("ProductMenu"),g=v("router-link"),f=v("Footer");return n(),l(b,null,[u(h),t("main",E,[R,t("div",j,[t("div",O,[u(p),t("div",q,[t("div",z,[t("div",G,[J,u(g,{to:{name:"home"}},{default:C(()=>[i(d(s.$t("header.index")),1)]),_:1}),i(" / "),u(g,{to:{name:"product"}},{default:C(()=>[i(d(s.$t("header.product")),1)]),_:1}),e.product.category_id?(n(),l("span",Q,[(n(!0),l(b,null,B(e.categoryPath,(o,a)=>(n(),l("span",{key:a},[i(" / "),u(g,{to:`/product/category/${o.id}`},{default:C(()=>[i(d(o.get_title_attribute.find(k=>k.language==e.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])):w("",!0)])]),Object.keys(e.product).length>0?(n(),l("div",U,[t("div",W,[t("img",{src:e.getInfo(e.product,"feature_image"),class:"border"},null,8,X)]),t("div",Y,[t("h3",Z,d(e.getInfo(e.product,"title")),1),t("p",K,d(e.getInfo(e.product,"subtitle")),1)]),t("div",$,[e.checkCart?(n(),l("div",{key:1,class:"askPrice remove",role:"button",onClick:c[1]||(c[1]=o=>e.removeCartItem())},[i(d(s.$t("product.removeAskPrice"))+" ",1),te])):(n(),l("div",{key:0,class:"askPrice",role:"button",onClick:c[0]||(c[0]=o=>e.addCartItem())},[i(d(s.$t("product.addAskPrice"))+" ",1),ee]))]),t("div",{class:"col-12 content",innerHTML:e.getInfo(e.product,"content")},null,8,oe)])):w("",!0)])])])]),u(f)],64)}const le=H(A,[["render",se]]);export{le as default};
