import{_ as T,u as I,l as C,r as v,a as x,o as H,b as p,c as n,d as r,e as g,f as t,w as b,k as h,t as d,F as f,g as w,h as F,j as M,n as V}from"./index-6f9e91fc.js";import{H as B,F as D}from"./Footer-f6c1c544.js";import{P as S,_ as j}from"./product_banner-fc8e868e.js";import{a as N}from"./api-service-70394661.js";const z={components:{Header:B,Footer:D,ProductMenu:S},setup(){I(),C();const u=v([]),l=C().params.categoryID,y=v([]),a=v(0),{locale:c}=x(),i=v({page:1,itemsPerPage:36,category:""}),m=async()=>{try{const e=await N.getProducts(i.value);i.value.page=e.current_page,i.value.perPage=e.per_page,a.value=e.last_page,u.value=e.data}catch(e){console.log(e)}},P=async e=>{try{const o=await N.getCategoryPath(e);y.value=o}catch(o){console.log(o)}},_=e=>e.get_title_attribute.find(o=>o.language==c.value).meta_value!=null&&e.get_title_attribute.find(o=>o.language==c.value).meta_value!=""?e.get_title_attribute.find(o=>o.language==c.value).meta_value:"No Title",k=e=>e.get_feature_image.find(o=>o.language==c.value).meta_value!=null&&e.get_feature_image.find(o=>o.language==c.value).meta_value!=""?e.get_feature_image.find(o=>o.language==c.value).meta_value:"/assets/img/product_image.png?t=202403031739",s=async e=>{i.value.page=e,await m()};return H(async()=>{l&&(i.value.category=l,await P(l)),await m()}),{products:u,locale:c,totalPage:a,params:i,changePage:s,getTitle:_,getFeatureImage:k,categoryPath:y}}},L={id:"product"},R=t("div",{class:"banner"},[t("img",{src:j,alt:""})],-1),E={class:"gray-background"},q={class:"white-rounded-background"},A={class:"container"},G={class:"row"},J={class:"col-12 col-lg-10 list"},K={class:"row"},O={class:"col-12 route"},Q=t("span",{class:"material-icons"},"",-1),U={href:"/product"},W={key:0},X={class:"row"},Y={class:"feature_image"},Z={key:0,"aria-label":"Page navigation",class:"mt-5"},$={class:"pagination justify-content-center"},ee={class:"page-item"},te=["onClick"],ae={role:"button",class:"page-link"},oe={class:"page-item"};function se(u,l,y,a,c,i){const m=p("Header"),P=p("ProductMenu"),_=p("router-link"),k=p("Footer");return n(),r(f,null,[g(m),t("main",L,[R,t("div",E,[t("div",q,[t("div",A,[t("div",G,[g(P),t("div",J,[t("div",K,[t("div",O,[Q,g(_,{to:{name:"home"}},{default:b(()=>[h(d(u.$t("header.index")),1)]),_:1}),h(" / "),t("a",U,d(u.$t("header.product")),1),a.params.category.length?(n(),r("span",W,[(n(!0),r(f,null,w(a.categoryPath,(s,e)=>(n(),r("span",{key:e},[h(" / "),g(_,{to:`/product/category/${s.id}`},{default:b(()=>[h(d(s.get_title_attribute.find(o=>o.language==a.locale).meta_value),1)]),_:2},1032,["to"])]))),128))])):F("",!0)])]),t("div",X,[(n(!0),r(f,null,w(a.products.filter(s=>a.getTitle(s)!="No Title"),(s,e)=>(n(),r("div",{class:"col-6 col-lg-3",key:e},[g(_,{to:`/product/${s.id}`},{default:b(()=>[t("div",Y,[t("div",{class:"img",style:M(`background-image: url('${a.getFeatureImage(s)}')`)},null,4)]),t("p",null,d(a.getTitle(s)),1)]),_:2},1032,["to"])]))),128))]),a.totalPage>1?(n(),r("nav",Z,[t("ul",$,[t("li",ee,[t("a",{role:"button",class:"page-link",onClick:l[0]||(l[0]=s=>a.changePage(a.params.page-1))},"⟨")]),(n(!0),r(f,null,w(a.totalPage,s=>(n(),r("li",{class:V(["page-item",s==a.params.page?"active":""]),onClick:e=>a.changePage(s)},[t("a",ae,d(s),1)],10,te))),256)),t("li",oe,[t("a",{role:"button",class:"page-link",onClick:l[1]||(l[1]=s=>a.changePage(a.params.page+1))},"⟩")])])])):F("",!0)])])])])])]),g(k)],64)}const ie=T(z,[["render",se]]);export{ie as default};
