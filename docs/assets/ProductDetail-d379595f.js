import{_ as N,a as T,r as p,k as V,o as A,l as B,b as C,c as n,d as l,e as I,f as t,t as d,h as v,F as w,j as H,g as M,n as D}from"./index-431d9714.js";import{H as L,F as j,a as E,c as S}from"./Footer-7de790de.js";import{P as x}from"./ProductMenu-9ec91f20.js";const z={components:{Header:L,Footer:j,ProductMenu:x},setup(){const{t:i,locale:c}=T(),y=p({}),e=p({}),F=V(),k=p(F.params.id),m=p(!1),g=p([]),b=async()=>{try{y.value=await E.getProducts()}catch(a){console.error("Error fetching products content:",a)}},o=async()=>{try{e.value=await E.getProduct(k.value),e.value.category_id&&_(e.value.category_id)}catch(a){console.error("Error fetching product content:",a)}},_=async a=>{try{const s=await E.getCategoryPath(a);g.value=s}catch(s){console.log(s)}},u=(a,s)=>{let P=s=="feature_image"?"/assets/img/product_image.png?t=202403031739":"";return a.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value!=null&&a.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value!=""?a.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value:P},f=()=>{S.addCart({product:e.value,category:g.value}),m.value=!0},h=()=>{S.removeCart(k),m.value=!1};return A(async()=>{b(),o()}),B(()=>{document.querySelectorAll("#product_detail_content").forEach(s=>{const P=s.getElementsByTagName("a");for(let r of P)r.setAttribute("target","_blank")})}),{t:i,locale:c,products:y,product:e,addCartItem:f,removeCartItem:h,checkCart:m,getInfo:u,getCategoryPath:_,categoryPath:g}}},q={id:"product_detail"},O=t("div",{class:"banner",style:{"background-image":"url('/assets/img/product_banner.webp')"}},null,-1),R={class:"container"},U={class:"row"},W={class:"col-12 col-lg-10 list",id:"product_detail_content"},Y={key:0,class:"row mb-5"},G={class:"col-12 route"},J=t("span",{class:"material-icons"},"",-1),Q=["href"],X=["href"],Z={key:0},K={class:"col-12 col-md-6"},$=["src"],ee={class:"col-12 col-md-6 justify-content-between",style:{display:"grid"}},te={class:"title"},oe=t("hr",{style:{"border-top":"5px solid #666"}},null,-1),ae=["innerHTML"],se=t("span",{class:"material-icons"},"",-1),re=t("span",{class:"material-icons"},"",-1),ce=t("h4",null,"相關規格/",-1),ne=t("hr",null,null,-1),le=["href"],de=t("a",{href:"/assets/ylss_edm.pdf",id:"recurit-link-btn",class:"btn btn-primary w-100 mt-5",target:"_blank"},[t("span",{class:"me-2"},">"),v("YLSS EDM ")],-1),ie=t("div",{id:"mid_right_shape"},null,-1),_e=t("div",{id:"bottom_left_shape"},null,-1);function ue(i,c,y,e,F,k){const m=C("Header"),g=C("ProductMenu"),b=C("Footer");return n(),l(w,null,[I(m),t("main",q,[O,t("div",R,[t("div",U,[I(g,{categories:e.products},null,8,["categories"]),t("div",W,[Object.keys(e.product).length>0?(n(),l("div",Y,[t("div",G,[J,t("a",{href:`/${e.locale}/`},d(i.$t("header.index")),9,Q),v(" / "),t("a",{href:`/${e.locale}/product`},d(i.$t("header.product")),9,X),e.product.category_id?(n(),l("span",Z,[(n(!0),l(w,null,H(e.categoryPath,(o,_)=>(n(),l("span",{key:_},[v(" / "),t("a",null,d(o.get_title_attribute.find(u=>u.language==e.locale).meta_value),1)]))),128))])):M("",!0)]),t("div",K,[t("img",{src:e.getInfo(e.product,"feature_image"),class:"img-fluid w-100"},null,8,$)]),t("div",ee,[t("div",null,[t("h3",te,d(e.getInfo(e.product,"title")),1),oe,t("p",{class:"subtitle",innerHTML:e.getInfo(e.product,"content")},null,8,ae)]),e.checkCart?(n(),l("div",{key:1,class:"askPrice remove",role:"button",onClick:c[1]||(c[1]=o=>e.removeCartItem())},[v(d(i.$t("product.removeAskPrice"))+" ",1),re])):(n(),l("div",{key:0,class:"askPrice",role:"button",onClick:c[0]||(c[0]=o=>e.addCartItem())},[v(d(i.$t("product.addAskPrice"))+" ",1),se]))])])):M("",!0),ce,ne,e.product&&e.product.spec_articles?(n(!0),l(w,{key:1},H(e.product.spec_articles,(o,_)=>{var u,f;return n(),l("div",{key:o.id,class:D(_%2===0?"spec_tag_1":"spec_tag_2")},[t("a",{href:`/${e.locale}/spec/${o.id}`},d(((u=o.article_detail.find(h=>h.language===e.locale))==null?void 0:u.meta_value)||((f=o.article_detail.find(h=>h.language==="zh_TW"))==null?void 0:f.meta_value)),9,le)],2)}),128)):M("",!0),de])])]),ie,_e]),I(b)],64)}const pe=N(z,[["render",ue]]);export{pe as default};
