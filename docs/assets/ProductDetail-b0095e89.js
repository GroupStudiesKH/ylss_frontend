import{_ as T,a as V,r as p,k as A,o as B,l as S,b as C,c as n,d as l,e as I,f as t,t as d,h as f,F as w,j as E,g as F,n as j}from"./index-fb108a6e.js";import{H as D,F as L,a as H,c as N}from"./Footer-3d46835b.js";import{P as x}from"./ProductMenu-6a80055b.js";const z={components:{Header:D,Footer:L,ProductMenu:x},setup(){const{t:i,locale:c}=V(),y=p({}),e=p({}),M=A(),k=p(M.params.id),g=p(!1),m=p([]),P=async()=>{try{y.value=await H.getProducts()}catch(a){console.error("Error fetching products content:",a)}},o=async()=>{try{e.value=await H.getProduct(k.value),e.value.category_id&&_(e.value.category_id)}catch(a){console.error("Error fetching product content:",a)}},_=async a=>{try{const s=await H.getCategoryPath(a);m.value=s}catch(s){console.log(s)}},u=(a,s)=>{let b=s=="feature_image"?"/assets/img/product_image.png?t=202403031739":"";return a.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value!=null&&a.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value!=""?a.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value:b},v=()=>{N.addCart({product:e.value,category:m.value}),g.value=!0},h=()=>{N.removeCart(k),g.value=!1};return B(async()=>{P(),o()}),S(()=>{document.querySelectorAll("#product_detail_content").forEach(s=>{const b=s.getElementsByTagName("a");for(let r of b)r.setAttribute("target","_blank")})}),{t:i,locale:c,products:y,product:e,addCartItem:v,removeCartItem:h,checkCart:g,getInfo:u,getCategoryPath:_,categoryPath:m}}},q={id:"product_detail"},O=t("div",{class:"banner",style:{"background-image":"url('/assets/img/product_banner.webp')"}},null,-1),R={class:"container"},U={class:"row"},W={class:"col-12 col-lg-10 list",id:"product_detail_content"},G={key:0,class:"row mb-5"},J={class:"col-12 route"},Q=t("span",{class:"material-icons"},"",-1),X=["href"],Y=["href"],Z={key:0},K={class:"col-12 col-md-6"},$=["src"],ee={class:"col-12 col-md-6 justify-content-between",style:{display:"grid"}},te={class:"title"},oe=t("hr",{style:{"border-top":"5px solid #666"}},null,-1),ae=["innerHTML"],se=t("span",{class:"material-icons"},"",-1),re=t("span",{class:"material-icons"},"",-1),ce=t("h4",null,"相關規格/",-1),ne=t("hr",null,null,-1),le=["href"],de=t("div",{id:"mid_right_shape"},null,-1),ie=t("div",{id:"bottom_left_shape"},null,-1);function _e(i,c,y,e,M,k){const g=C("Header"),m=C("ProductMenu"),P=C("Footer");return n(),l(w,null,[I(g),t("main",q,[O,t("div",R,[t("div",U,[I(m,{categories:e.products},null,8,["categories"]),t("div",W,[Object.keys(e.product).length>0?(n(),l("div",G,[t("div",J,[Q,t("a",{href:`/${e.locale}/`},d(i.$t("header.index")),9,X),f(" / "),t("a",{href:`/${e.locale}/product`},d(i.$t("header.product")),9,Y),e.product.category_id?(n(),l("span",Z,[(n(!0),l(w,null,E(e.categoryPath,(o,_)=>(n(),l("span",{key:_},[f(" / "),t("a",null,d(o.get_title_attribute.find(u=>u.language==e.locale).meta_value),1)]))),128))])):F("",!0)]),t("div",K,[t("img",{src:e.getInfo(e.product,"feature_image"),class:"img-fluid w-100"},null,8,$)]),t("div",ee,[t("div",null,[t("h3",te,d(e.getInfo(e.product,"title")),1),oe,t("p",{class:"subtitle",innerHTML:e.getInfo(e.product,"content")},null,8,ae)]),e.checkCart?(n(),l("div",{key:1,class:"askPrice remove",role:"button",onClick:c[1]||(c[1]=o=>e.removeCartItem())},[f(d(i.$t("product.removeAskPrice"))+" ",1),re])):(n(),l("div",{key:0,class:"askPrice",role:"button",onClick:c[0]||(c[0]=o=>e.addCartItem())},[f(d(i.$t("product.addAskPrice"))+" ",1),se]))])])):F("",!0),ce,ne,e.product&&e.product.spec_articles?(n(!0),l(w,{key:1},E(e.product.spec_articles,(o,_)=>{var u,v;return n(),l("div",{key:o.id,class:j(_%2===0?"spec_tag_1":"spec_tag_2")},[t("a",{href:`/${e.locale}/spec/${o.id}`},d(((u=o.article_detail.find(h=>h.language===e.locale))==null?void 0:u.meta_value)||((v=o.article_detail.find(h=>h.language==="zh_TW"))==null?void 0:v.meta_value)),9,le)],2)}),128)):F("",!0)])])]),de,ie]),I(P)],64)}const he=T(z,[["render",_e]]);export{he as default};
