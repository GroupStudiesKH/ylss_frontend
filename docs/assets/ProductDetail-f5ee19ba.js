import{_ as L,a as N,r as h,k as T,o as V,l as A,b as C,c as n,d as l,e as I,f as e,t as i,h as f,F as w,j as F,g as M,n as B}from"./index-de5b8c6b.js";import{H as D,F as S,a as E,c as H}from"./Footer-b65d35eb.js";import{P as j}from"./ProductMenu-d973b420.js";const x={components:{Header:D,Footer:S,ProductMenu:j},setup(){const{locale:c}=N(),d=h({}),u=h({}),t=T(),y=h(t.params.id),p=h(!1),g=h([]),k=async()=>{try{d.value=await E.getProducts()}catch(o){console.error("Error fetching products content:",o)}},P=async()=>{try{u.value=await E.getProduct(y.value),u.value.category_id&&a(u.value.category_id)}catch(o){console.error("Error fetching product content:",o)}},a=async o=>{try{const s=await E.getCategoryPath(o);g.value=s}catch(s){console.log(s)}},m=(o,s)=>{let b=s=="feature_image"?"/assets/img/product_image.png?t=202403031739":"";return o.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value!=null&&o.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value!=""?o.product_detail.find(r=>r.language==c.value&&r.meta_key==s).meta_value:b},_=()=>{H.addCart({product:u.value,category:g.value}),p.value=!0},v=()=>{H.removeCart(y),p.value=!1};return V(async()=>{k(),P()}),A(()=>{document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("#product_detail_content").forEach(s=>{const b=s.getElementsByTagName("a");for(let r of b)r.setAttribute("target","_blank")})})}),{locale:c,products:d,product:u,addCartItem:_,removeCartItem:v,checkCart:p,getInfo:m,getCategoryPath:a,categoryPath:g}}},z={id:"product_detail"},O=e("div",{class:"banner",style:{"background-image":"url('/assets/img/product_banner.webp')"}},null,-1),q={class:"container"},R={class:"row"},U={class:"col-12 col-lg-10 list",id:"product_detail_content"},W={key:0,class:"row mb-5"},G={class:"col-12 route"},J=e("span",{class:"material-icons"},"",-1),Q=["href"],X=["href"],Y={key:0},Z={class:"col-12 col-md-6"},K=["src"],$={class:"col-12 col-md-6 justify-content-between",style:{display:"grid"}},ee={class:"title"},te=e("hr",{style:{"border-top":"5px solid #666"}},null,-1),oe=["innerHTML"],ae=e("span",{class:"material-icons"},"",-1),se=e("span",{class:"material-icons"},"",-1),re=e("h4",null,"相關規格/",-1),ce=e("hr",null,null,-1),ne=["href"],le=e("div",{id:"mid_right_shape"},null,-1),de=e("div",{id:"bottom_left_shape"},null,-1);function ie(c,d,u,t,y,p){const g=C("Header"),k=C("ProductMenu"),P=C("Footer");return n(),l(w,null,[I(g),e("main",z,[O,e("div",q,[e("div",R,[I(k,{categories:t.products},null,8,["categories"]),e("div",U,[Object.keys(t.product).length>0?(n(),l("div",W,[e("div",G,[J,e("a",{href:`/${t.locale}/`},i(c.$t("header.index")),9,Q),f(" / "),e("a",{href:`/${t.locale}/product`},i(c.$t("header.product")),9,X),t.product.category_id?(n(),l("span",Y,[(n(!0),l(w,null,F(t.categoryPath,(a,m)=>(n(),l("span",{key:m},[f(" / "),e("a",null,i(a.get_title_attribute.find(_=>_.language==t.locale).meta_value),1)]))),128))])):M("",!0)]),e("div",Z,[e("img",{src:t.getInfo(t.product,"feature_image"),class:"img-fluid w-100"},null,8,K)]),e("div",$,[e("div",null,[e("h3",ee,i(t.getInfo(t.product,"title")),1),te,e("p",{class:"subtitle",innerHTML:t.getInfo(t.product,"content")},null,8,oe)]),t.checkCart?(n(),l("div",{key:1,class:"askPrice remove",role:"button",onClick:d[1]||(d[1]=a=>t.removeCartItem())},[f(i(c.$t("product.removeAskPrice"))+" ",1),se])):(n(),l("div",{key:0,class:"askPrice",role:"button",onClick:d[0]||(d[0]=a=>t.addCartItem())},[f(i(c.$t("product.addAskPrice"))+" ",1),ae]))])])):M("",!0),re,ce,t.product&&t.product.spec_articles?(n(!0),l(w,{key:1},F(t.product.spec_articles,(a,m)=>{var _,v;return n(),l("div",{key:a.id,class:B(m%2===0?"spec_tag_1":"spec_tag_2")},[e("a",{href:`/${t.locale}/spec/${a.id}`},i(((_=a.article_detail.find(o=>o.language===t.locale))==null?void 0:_.meta_value)||((v=a.article_detail.find(o=>o.language==="zh_TW"))==null?void 0:v.meta_value)),9,ne)],2)}),128)):M("",!0)])])]),le,de]),I(P)],64)}const me=L(x,[["render",ie]]);export{me as default};
